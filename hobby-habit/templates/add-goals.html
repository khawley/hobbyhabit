{% extends 'base.html' %}

    {% block my_css_link %}
        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
    {% endblock my_css_link %}

    {% block title %}HobbyHabit: Add Goals{% endblock title %}

    <div class="add-goals">

        {% block banner_content %}
            <!-- <a href=""></a> -->
        {% endblock banner_content %}

        {% block body_content %}
            <h1>
                Set Goals
            </h1>
            <h2>
                Setting goals for your HobbyHabits is optional...
            </h2>
            <h3>
                Click a HobbyHabit to set a goal for that HobbyHabit...
            </h3>
            <h5>
                (Click skip at the bottom to go directly to your dashboard.)
            </h5>
            <br>

                 {% for current_user_hobby in current_user_hobbies %}
                    {% for hobby_name in current_user_hobby %}

                    <!-- Trigger the modal with button. -->
            <div id="current-user-hobbies">
                <button id="current-user-hobby-btn" class="btn btn-info btn-lg" type="button" data-toggle="modal" data-target="#goalModal">
                    {{ hobby_name.title() }}
                </button>
            </div>

                    {% endfor %}
                        <br>
                 {% endfor %}
                <button id="skip-goal-btn" type="button">
                    Skip
                </button>

            <!-- Goal modal -->
            <div id="goalModal" class="modal fade">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">
                                Set goal for 
                                {% for current_user_hobby in current_user_hobbies %}
                                    {% for hobby_name in current_user_hobby %}
                                        {{ hobby_name.title() }}
                                    {% endfor %}
                                {% endfor %}  
                            </h4>
                        </div>
                        <div class="modal-body">
                            
                                <form id="add-goals" action="/process-goals" method="POST">
                                    Goal Start Date
                                    <input id="goal-start-date" type="text" name="goal-start-date" placeholder="-- goal start date --" required>
                                    <br>
                                    <br>
                                    Goal Frequency
                                    <input id="goal-freq-num" type="number" name="goal-freq-num" min="1" max="10000" placeholder="--" required>
                                    <br>
                                    <br>
                                    Goal Time Unit
                                    <select id="goal-freq-time-unit" name="goal-freq-time-unit" placeholder="Select your goal frequncy time unit" required>
                                        <option value="Day">Day</option>
                                        <option value="Week">Week</option>
                                        <option value="Month">Month</option>
                                        <option value="Year">Year</option>
                                    </select>
                                    <br>
                                    <br>
                                    <input id="set-add-more" type="submit" value="Add goals for another HobbyHabit"> or <!-- Only display if user has more than one hobbyhabit -->
                                    <input id="set-continue" type="submit" value="Set goal and continue to dashboard">
                                </form>

                        </div>
                        <div class="modal-footer">
                            <p align="left"><small>*All fields are required in order to set goal</small></p>
                            <button type="button" class="btn btn-default" data-dismiss="modal">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        {% endblock body_content %}

    </div>

    {% block js_link %}  
        <script type="text/javascript" src="static/js/add-goals.js"></script>
    {% endblock js_link %}


